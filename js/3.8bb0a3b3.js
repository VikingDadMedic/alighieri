(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"8b24":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"column full-height",attrs:{padding:""},nativeOn:{click:function(e){return t.onFocus(e)}}},[n("editor",{ref:"editor",staticClass:"col"})],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classNames},[n("editor-menu-bubble",{attrs:{editor:t.editor,"keep-in-bounds":t.keepInBounds},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.commands,a=e.isActive,s=e.getMarkAttrs,o=e.menu;return[n("div",{staticClass:"editor-menububble",class:{"is-active":o.isActive},style:"left: "+o.left+"px; bottom: "+o.bottom+"px;"},[n("button",{class:{"is-active":a.heading()}},[n("q-icon",{attrs:{name:"title"}}),n("div",{staticClass:"editor-menububble-popup"},[n("button",{class:{"is-active":a.heading({level:1})},on:{click:function(t){return i.heading({level:1})}}},[t._v("\n            H1\n          ")]),n("button",{class:{"is-active":a.heading({level:2})},on:{click:function(t){return i.heading({level:2})}}},[t._v("\n            H2\n          ")]),n("button",{class:{"is-active":a.heading({level:3})},on:{click:function(t){return i.heading({level:3})}}},[t._v("\n            H3\n          ")]),n("button",{class:{"is-active":a.heading({level:4})},on:{click:function(t){return i.heading({level:4})}}},[t._v("\n            H4\n          ")]),n("button",{class:{"is-active":a.heading({level:5})},on:{click:function(t){return i.heading({level:5})}}},[t._v("\n            H5\n          ")]),n("button",{class:{"is-active":a.heading({level:6})},on:{click:function(t){return i.heading({level:6})}}},[t._v("\n            H6\n          ")])])],1),n("button",{class:{"is-active":a.bold()},on:{click:i.bold}},[n("q-icon",{attrs:{name:"format_bold"}})],1),n("button",{class:{"is-active":a.italic()},on:{click:i.italic}},[n("q-icon",{attrs:{name:"format_italic"}})],1),n("button",{class:{"is-active":a.underline()},on:{click:i.underline}},[n("q-icon",{attrs:{name:"format_underline"}})],1),n("button",{class:{"is-active":a.strike()},on:{click:i.strike}},[n("q-icon",{attrs:{name:"format_strikethrough"}})],1),n("button",{class:{"is-active":a.blockquote()},on:{click:i.blockquote}},[n("q-icon",{attrs:{name:"format_quote"}})],1),n("button",{class:{"is-active":a.code()},on:{click:i.code}},[n("q-icon",{attrs:{name:"code"}})],1),n("button",{class:{"is-active":!!s("alignment").align}},[n("q-icon",{attrs:{name:"format_align_left"}}),n("div",{staticClass:"editor-menububble-popup"},[n("button",{class:{"is-active":"left"===s("alignment").align},on:{click:function(t){return i.alignment({align:"left"})}}},[n("q-icon",{attrs:{name:"format_align_left"}})],1),n("button",{class:{"is-active":"center"===s("alignment").align},on:{click:function(t){return i.alignment({align:"center"})}}},[n("q-icon",{attrs:{name:"format_align_center"}})],1),n("button",{class:{"is-active":"right"===s("alignment").align},on:{click:function(t){return i.alignment({align:"right"})}}},[n("q-icon",{attrs:{name:"format_align_right"}})],1),n("button",{class:{"is-active":"justify"===s("alignment").align},on:{click:function(t){return i.alignment({align:"justify"})}}},[n("q-icon",{attrs:{name:"format_align_justify"}})],1)])],1),n("button",{class:{"is-active":a.image()},on:{click:function(e){return t.showImagePrompt(i.image)}}},[n("q-icon",{attrs:{name:"image"}})],1)])]}}])}),n("editor-content",{attrs:{editor:t.editor}})],1)},o=[],c=(n("5319"),n("cd42")),l=n("f23d"),r=n("a9de");class u extends c["e"]{get name(){return"alignment"}get defaultOptions(){return{levels:["left","center","right","justify"]}}get schema(){return{attrs:{align:{default:"left"}},parseDOM:[{style:"text-align",getAttrs:t=>({align:t})}],toDOM:t=>["span",{class:"block text-"+t.attrs.align},0]}}commands({type:t}){return e=>Object(r["t"])(t,e)}inputRules({type:t}){return[Object(r["e"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}}var d=n("18d6"),m=n("f121"),g={name:"editor",components:{EditorContent:c["b"],EditorMenuBubble:c["c"]},data(){return{keepInBounds:!0,editor:null}},computed:{classNames(){const t=this.$store.getters["base/settings"];return{editor:!0,"par-space-between":t.parSpaceBetween,"par-indent-first-line":t.parIndentFirstLine}}},mounted(){const t=d["a"].getItem(m["a"]);this.$store.dispatch("editor/updateContent",t),this.editor=new c["a"]({extensions:[new l["a"],new l["c"],new l["e"],new l["f"],new l["g"],new l["i"],new l["m"],new l["n"],new l["p"],new l["q"],new l["b"],new l["d"],new l["k"],new l["o"],new l["s"],new l["l"],new l["h"],new l["r"]({node:"paragraph",notAfter:["paragraph"]}),new l["j"],new u],content:t,autoFocus:!0,onUpdate:t=>{const e=t.getHTML(),n=this.finalizeContent(e);this.$store.dispatch("editor/updateContent",n)}})},beforeDestroy(){this.editor.destroy()},methods:{focus(){this.editor.focus()},setContent(t){const e=this.editor.getHTML();t!==e&&(this.editor.setContent(t),this.editor.focus())},finalizeContent(t){return t.replace(/&lt;&lt;/,"&laquo;").replace(/&gt;&gt;/,"&raquo;")},showImagePrompt(t){this.$q.dialog({title:this.$t("Add image"),message:"Please, enter the image source URL:",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(e=>{null!==e&&t({src:e})})}},watch:{"$store.state.editor.contentHTML":function(t){this.setContent(t)}}},f=g,p=(n("cf40"),n("2877")),b=n("0016"),h=n("eebe"),v=n.n(h),k=Object(p["a"])(f,s,o,!1,null,null,null),w=k.exports;v()(k,"components",{QIcon:b["a"]});var _={name:"PageIndex",components:{Editor:w},computed:{fileTitle(t){const e=(this.$store.state.editor.filename||"").split("/").pop().split(".")[0];return[e||this.$t("No title"),this.$store.getters["editor/isChanged"]?"*":""].join("")}},meta(){const t=this.$store.getters["base/appInfo"].productName;return{title:this.fileTitle,titleTemplate:e=>`${e} - ${t}`}},methods:{onFocus(t){this.$refs.editor.focus()}}},q=_,$=n("9989"),C=Object(p["a"])(q,i,a,!1,null,null,null);e["default"]=C.exports;v()(C,"components",{QPage:$["a"]})},bd2b:function(t,e,n){},cf40:function(t,e,n){"use strict";var i=n("bd2b"),a=n.n(i);a.a}}]);